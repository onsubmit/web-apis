---
title: Keyboard
---

import { LinkCard } from "@astrojs/starlight/components";
import Console from '@components/Console.astro';

The Keyboard API provides methods for working with a physical keyboard that is attached to a device running a browser.

<LinkCard
  title="Keyboard API - Web APIs | MDN"
  href="https://developer.mozilla.org/en-US/docs/Web/API/Keyboard_API"
  target="_blank"
/>

## Instance methods

### getLayoutMap()

<LinkCard
  title="Keyboard: getLayoutMap() method | MDN"
  href="https://developer.mozilla.org/en-US/docs/Web/API/Keyboard/getLayoutMap"
  target="_blank"
/>

```js
// getLayoutMap.js
const layoutMap = await navigator.keyboard.getLayoutMap();

console.log(`layoutMap.size: ${layoutMap.size}`);

for (const [key, value] of layoutMap.entries()) {
  console.log(`${key}: ${value}`);
}
```

<Console script='
  const layoutMap = await navigator.keyboard.getLayoutMap();

  console.log(`layoutMap.size: ${layoutMap.size}`);

  for (const [key, value] of layoutMap.entries()) {
    console.log(`${key}: ${value}`);
  }
' />

### lock()

<LinkCard
  title="Keyboard: lock() method | MDN"
  href="https://developer.mozilla.org/en-US/docs/Web/API/Keyboard/lock"
  target="_blank"
/>

```js
// lock.js
await navigator.keyboard.lock(["KeyW", "KeyA", "KeyS", "KeyD"]);
console.log("Keypresses are being captured for the WASD keys.");
```

<Console script='
  await navigator.keyboard.lock(["KeyW", "KeyA", "KeyS", "KeyD"]);
  console.log("Keypresses are being captured for the WASD keys.");
' />

## Further reading

- [Keyboard Map Permissions Policy](https://wicg.github.io/keyboard-map/#integrations)
- [WICG/keyboard-map: getLayoutMap() is unavailable in sub-context web applications due to privacy mitigations](https://github.com/WICG/keyboard-map/issues/38)
- [w3c/webappsec-permissions-policy: Add keyboard-map feature policy](https://github.com/w3c/webappsec-permissions-policy/pull/428/)
- [w3ctag/design-reviews: Feature policy for Keyboard API](https://github.com/w3ctag/design-reviews/issues/685)
- [Reddit: Google Chrome 97 introduces controversial keyboard API (enabling potential fingerprinting)](https://www.reddit.com/r/programming/comments/rwqxay/google_chrome_97_introduces_controversial/)
